<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:omit-tag="">
    <div class="portlet portletVideoGallery"
         tal:define="portlet_id python:id(view)"
         i18n:domain="brasil.gov.portlets">
        <div class="portal-padrao-videogallery-portlet">
            <tal:results tal:define="results view/results|nothing">
                <div class="portletHeader">
                    <span class="portletTopLeft" />
                    <tal:header condition="view/data/show_header">
                        <tal:title content="structure view/header" />
                    </tal:header>
                    <span class="portletTopRight" />
                </div>
                <div class="portletItem">
                    <div class="player-holder"
                         tal:define="first_item python:results[0].getObject()"
                         tal:condition="results">
                        <div class="player-video">
                            <tal:block tal:replace="structure first_item/embed_html"></tal:block>
                        </div>
                        <div class="player-metadata">
                            <div class="player-metadata-wrapper">
                                <span class="subtitle"
                                      tal:condition="view/data/show_subtitle">
                                    ${view/data/subtitle}
                                </span>
                                <h3 class="title">
                                    ${first_item/title}
                                </h3>
                                <p class="description">
                                    ${first_item/description}
                                </p>
                            </div>
                        </div>
                        <div class="visualClear"></div>
                    </div>
                    <div class="galery-items"
                         tal:define="last_item python:items[-1]"
                         tal:condition="results">
                        <div class="galery-items-wrapper">
                            <tal:loop repeat="item results">
                                <tal:items define="obj item/getObject">
                                    <div class="${python:'gallery-element' + (' selected' if repeat['item'].start else '') + (' last' if item == last_item else '')}">
                                        <div class="gallery-element-wrapper">
                                            <a id="${python: 'gallerylink-' + portlet_id + '-' + str(view.get_uid(obj))}"
                                               class="gallery-element-link"
                                               href="${obj/absolute_url}"
                                               data-player-dom="${obj/embed_html}">
                                                <tal:image define="thumbnail python:view.thumbnail(obj);"
                                                           condition="thumbnail">
                                                    <img tal:define="uid python:view.get_uid(obj)"
                                                         tal:condition="python:thumbnail and uid"
                                                         src="${thumbnail/url}"
                                                         width="${thumbnail/width}"
                                                         height="${thumbnail/height}"
                                                         data-title="${string:<a href='${obj/absolute_url}/view'>${obj/title}</a>}"
                                                         data-description="${obj/Description}"
                                                         data-link="${string:${obj/absolute_url}/view}"
                                                         data-uid="${uid}"
                                                         alt="${python: thumbnail.context.Title()" />
                                                </tal:image>
                                            </a>
                                            <div class="gallery-element-metadata">
                                                <span class="title">
                                                    ${obj/title}
                                                </span>
                                                <p class="description"
                                                   tal:condition="view/data/show_description">
                                                    ${obj/description}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </tal:items>
                            </tal:loop>
                        </div>
                        <div class="visualClear"><!-- --></div>
                    </div>
                    <div class="visualClear"><!-- --></div>
                </div>
                <div class="portletFooter">
                    <a href="${view/data/footer_url}"
                       tal:condition="view/data/show_footer">
                        ${view/data/footer}
                    </a>
                </div>
                <div class="visualClear"><!-- --></div>
            </tal:results>
        </div>
    </div>
</html>
